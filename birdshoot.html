<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bird Shooter Game</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: linear-gradient(to bottom, #87ceeb, #f0f8ff);
    font-family: Arial, sans-serif;
  }

  canvas {
    display: block;
  }

  #scoreBoard {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(255, 255, 255, 0.7);
    padding: 6px 14px;
    border-radius: 8px;
    font-size: 22px;
    font-weight: bold;
    color: #333;
  }

  #restartBtn {
    position: absolute;
    top: 60px;
    left: 10px;
    background: #222;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 8px 14px;
    font-size: 16px;
    cursor: pointer;
    display: none;
  }

  #restartBtn:hover {
    background: #444;
  }
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>
<div id="scoreBoard">Score: 0</div>
<button id="restartBtn">Restart</button>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let birds = [];
let bullets = [];
let score = 0;
let gameOver = false;

const birdImg = new Image();
birdImg.src = "https://upload.wikimedia.org/wikipedia/commons/4/45/Cartoon_bird.svg";

birdImg.onload = () => {
  startGame();
};

function startGame() {
  birds = [];
  bullets = [];
  score = 0;
  gameOver = false;
  document.getElementById("scoreBoard").innerText = "Score: 0";
  document.getElementById("restartBtn").style.display = "none";

  // Spawn birds regularly
  setInterval(spawnBird, 800);
  requestAnimationFrame(gameLoop);

  // End game after 30 seconds
  setTimeout(() => {
    gameOver = true;
    document.getElementById("restartBtn").style.display = "block";
    alert("Game Over! Final Score: " + score);
  }, 30000);
}

function spawnBird() {
  if (gameOver) return;
  const size = 60 + Math.random() * 30;
  const y = Math.random() * (canvas.height - size);
  const speed = 2 + Math.random() * 4;
  birds.push({ x: -size, y, size, speed });
}

function updateBirds() {
  birds.forEach((b, i) => {
    b.x += b.speed;
    if (b.x > canvas.width + b.size) {
      birds.splice(i, 1);
    }
  });
}

function drawBirds() {
  birds.forEach(b => {
    ctx.drawImage(birdImg, b.x, b.y, b.size, b.size);
  });
}

canvas.addEventListener("click", e => {
  if (gameOver) return;
  bullets.push({ x: e.clientX, y: e.clientY, timer: 8 });
});

function drawBullets() {
  ctx.fillStyle = "rgba(255,0,0,0.7)";
  bullets.forEach(b => {
    ctx.beginPath();
    ctx.arc(b.x, b.y, 10, 0, Math.PI * 2);
    ctx.fill();
    b.timer--;
  });
  bullets = bullets.filter(b => b.timer > 0);
}

function checkHits() {
  bullets.forEach((bullet, bi) => {
    birds.forEach((b, bi2) => {
      if (
        bullet.x > b.x &&
        bullet.x < b.x + b.size &&
        bullet.y > b.y &&
        bullet.y < b.y + b.size
      ) {
        birds.splice(bi2, 1);
        bullets.splice(bi, 1);
        score++;
        document.getElementById("scoreBoard").innerText = "Score: " + score;
      }
    });
  });
}

function gameLoop() {
  if (gameOver) return;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  updateBirds();
  drawBirds();
  drawBullets();
  checkHits();
  requestAnimationFrame(gameLoop);
}

document.getElementById("restartBtn").onclick = () => {
  location.reload();
};
</script>
</body>
</html>